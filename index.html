<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Maze Defence</title>
    <link rel="stylesheet" href="style.css?v=11">
</head>
<body class="theme-dark">
    <div class="game-wrapper">
        <header class="ui-header">
            <div class="header-content">
                <div class="stat-group"><span class="stat-icon icon-heart">‚ô•</span><span id="stat-lives">100</span></div>
                <div class="stat-group spacer"><span class="stat-icon icon-cup">üèÜ</span><span id="stat-vp">0</span>/1k</div>

                <div class="control-group spacer">
                    <span class="ctrl-label">HP:</span>
                    <button id="diff-minus" class="btn-tiny">-</button>
                    <span id="diff-val" class="val-display">x1</span>
                    <button id="diff-plus" class="btn-tiny">+</button>
                </div>

                <button id="btn-speed" class="btn-modern spacer">1x</button>
                
                <button id="btn-grid-size" class="btn-modern spacer">Map: 12x13</button>

                <div id="start-btn-container">
                     <button id="btn-start" class="btn-modern btn-accent">Start!</button>
                </div>
                <div class="toggle-wrapper">
                    <span class="toggle-label">AUTO</span>
                    <label class="switch">
                        <input type="checkbox" id="chk-autostart">
                        <span class="slider round"></span>
                    </label>
                </div>
                <button id="btn-pause" class="btn-modern btn-icon">‚è∏</button>
                <button id="theme-toggle" class="btn-modern btn-icon">üåô</button>
            </div>
        </header>

        <main class="game-board-container" id="board-container">
            <canvas id="gameCanvas"></canvas>
            
            <div id="toast" class="toast hidden">
                <h2 id="toast-title">Game Over</h2>
                <p id="toast-message">Result</p>
                <button id="restart-btn" class="btn-modern btn-accent">Restart</button>
            </div>
            
            <div id="monetization-toast" class="toast hidden monetization-overlay">
                <div class="monet-header">
                    <span class="stat-icon icon-heart">üò¢  ‚ô•</span>
                    <span id="current-lives-display"></span>
                </div>
                
                <div id="monet-options-container" class="monet-options">
                    <a href="https://www.paypal.com/paypalme/yazAnton/1" target="_blank" class="btn-modern monet-btn" data-lives="25">
                        <span class="coffee-icon">‚òï</span>
                        <span class="coffee-label">1$</span>
                        <span class="monet-reward">+25 HP</span>
                    </a>
                    <a href="https://www.paypal.com/paypalme/yazAnton/2" target="_blank" class="btn-modern monet-btn" data-lives="50">
                        <span class="coffee-icon">‚òï‚òï</span>
                        <span class="coffee-label">2$</span>
                        <span class="monet-reward">+50 HP</span>
                    </a>
                    <a href="https://www.paypal.com/paypalme/yazAnton/3" target="_blank" class="btn-modern monet-btn" data-lives="100">
                        <span class="coffee-icon">‚òï‚òï‚òï</span>
                        <span class="coffee-label">3$</span>
                        <span class="monet-reward">+100 HP</span>
                    </a>
                </div>
                
                <p id="monet-paid-message" class="hidden-on-paid" style="margin-top: 15px; font-size: 14px; color: #2ecc71;">
                    Thank you for your support! Click 'Continue' to restore HP and resume.
                </p>
                
                <button id="btn-monet-continue" class="btn-modern btn-accent">Continue</button>
            </div>
            </main>

        <aside class="ui-shop" id="shop-container">
            <div class="shop-header">
                <span class="money-label">FUNDS</span>
                <span class="money-value">$<span id="stat-money">300</span></span>
            </div>

            <div class="shop-scroll-area">
                <div class="shop-grid">
                    
                    <div class="skills-wrapper">
                        <button id="skill-airstrike" class="skill-btn" data-skill="airstrike">
                            <span class="skill-icon">‚úàÔ∏è</span>
                            <span class="skill-label">AIR</span>
                            <span class="skill-count">2</span>
                        </button>
                        <button id="skill-freeze" class="skill-btn" data-skill="freeze">
                            <span class="skill-icon">‚ùÑÔ∏è</span>
                            <span class="skill-label">ICE</span>
                            <span class="skill-count">2</span>
                        </button>
                    </div>

                    <div class="tower-group">
                        <div class="group-label">PULEMET</div>
                        <div class="tower-card" draggable="true" data-type="radar1">
                            <div class="tower-preview" id="preview-radar1"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="radar2">
                            <div class="tower-preview" id="preview-radar2"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="radar3">
                            <div class="tower-preview" id="preview-radar3"></div><span class="tower-cost"></span>
                        </div>
                    </div>

                    <div class="tower-group">
                        <div class="group-label">CANNON</div>
                        <div class="tower-card" draggable="true" data-type="blaster1">
                            <div class="tower-preview" id="preview-blaster1"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="blaster2">
                            <div class="tower-preview" id="preview-blaster2"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="blaster3">
                            <div class="tower-preview" id="preview-blaster3"></div><span class="tower-cost"></span>
                        </div>
                    </div>

                    <div class="tower-group">
                        <div class="group-label">SNIPER</div>
                        <div class="tower-card" draggable="true" data-type="sniper1">
                            <div class="tower-preview" id="preview-sniper1"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="sniper2">
                            <div class="tower-preview" id="preview-sniper2"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="sniper3">
                            <div class="tower-preview" id="preview-sniper3"></div><span class="tower-cost"></span>
                        </div>
                    </div>

                     <div class="tower-group">
                        <div class="group-label">ICE</div>
                        <div class="tower-card" draggable="true" data-type="slow1">
                            <div class="tower-preview" id="preview-slow1"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="slow2">
                            <div class="tower-preview" id="preview-slow2"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="slow3">
                            <div class="tower-preview" id="preview-slow3"></div><span class="tower-cost"></span>
                        </div>
                     </div>

                     <div class="tower-group">
                        <div class="group-label">REGEN</div>
                        <div class="tower-card" draggable="true" data-type="regen1">
                            <div class="tower-preview" id="preview-regen1"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="regen2">
                            <div class="tower-preview" id="preview-regen2"></div><span class="tower-cost"></span>
                        </div>
                        <div class="tower-card" draggable="true" data-type="regen3">
                            <div class="tower-preview" id="preview-regen3"></div><span class="tower-cost"></span>
                        </div>
                    </div>

                </div>
            </div>
        </aside>
    </div>

    <div id="tutorial-overlay" class="hidden"></div>
    <div id="tutorial-msg-box" class="tutorial-msg hidden">
        <button class="tutorial-close" id="tutorial-skip-btn">√ó</button>
        <h3 id="tut-title">Welcome!</h3>
        <p id="tut-text">Let's learn the basics.</p>
        <button id="tutorial-next-btn" class="btn-modern btn-accent">Next</button>
    </div>

    <script src="game.js"></script>
</body>
</html>